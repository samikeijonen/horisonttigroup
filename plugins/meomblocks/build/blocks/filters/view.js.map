{"version":3,"file":"blocks/filters/view.js","mappings":";;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,MAAM;AACnD,8BAA8B,MAAM;AACpC;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB;;AAEvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uCAAuC,qCAAqC;AAC5E;;AAEA;AACA,2CAA2C,mBAAmB,EAAE,2BAA2B;AAC3F;;AAEA;AACA,wDAAwD,kCAAkC,IAAI,iCAAiC,SAAS,2BAA2B;AACnK;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA,sEAAsE,MAAM;AAC5E;AACA;AACA,8DAA8D,MAAM;AACpE;;AAEA,uCAAuC,wCAAwC;AAC/E;;AAEA,oDAAoD,kCAAkC,IAAI,iCAAiC,SAAS,2BAA2B;;AAE/J;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA,WAAW,0BAA0B,GAAG,qCAAqC;AAC7E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,0BAA0B,GAAG,qCAAqC;AACjF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,MAAM;AAClB;AACA;AACA;AACA,WAAW,0BAA0B,GAAG,qCAAqC;AAC7E;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,MAAM;AAClB;AACA;AACA;AACA,WAAW,0BAA0B,GAAG,qCAAqC;AAC7E;;AAEA;AACA;AACA,WAAW,0BAA0B,GAAG,qCAAqC;AAC7E;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,MAAM;AAClB;AACA;AACA;AACA,WAAW,0BAA0B,GAAG,qCAAqC;AAC7E;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAE2C;;;;;;;;;;;;;;;AC7nB3C;AACA;AACA;AACA;AACA;A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","sources":["webpack://meomblocks/../../node_modules/@meom/navigation/dist/index.esm.js","webpack://meomblocks/./src/blocks/filters/helpers/buildQueryString.js","webpack://meomblocks/./src/blocks/filters/helpers/calcCount.js","webpack://meomblocks/./src/blocks/filters/helpers/fetchPosts.js","webpack://meomblocks/./src/blocks/filters/helpers/getCheckedCheckboxes.js","webpack://meomblocks/./src/blocks/filters/helpers/handleFetch.js","webpack://meomblocks/./src/blocks/filters/helpers/loadMoreMarkup.js","webpack://meomblocks/./src/blocks/filters/helpers/selectedFilterButton.js","webpack://meomblocks/./src/blocks/filters/helpers/serializeForm.js","webpack://meomblocks/./src/blocks/filters/helpers/showSelectedFilters.js","webpack://meomblocks/external window [\"wp\",\"a11y\"]","webpack://meomblocks/external window [\"wp\",\"url\"]","webpack://meomblocks/webpack/bootstrap","webpack://meomblocks/webpack/runtime/compat get default export","webpack://meomblocks/webpack/runtime/define property getters","webpack://meomblocks/webpack/runtime/hasOwnProperty shorthand","webpack://meomblocks/webpack/runtime/make namespace object","webpack://meomblocks/./src/blocks/filters/view.js"],"sourcesContent":["/**\n * Apply a CSS animation to an element\n *\n * @param {Node}    elem      The element to animate.\n * @param {string}  animation Class name for animation.\n * @param {boolean} hide      Class name for hiding animated element.\n */\nfunction animate( elem, animation, hide ) {\n    // If there's no element or animation, do nothing.\n    if ( ! elem || ! animation ) {\n        return;\n    }\n\n    // Apply the animation.\n    elem.classList.add( animation );\n\n    // Detect when the animation ends.\n    elem.addEventListener(\n        'animationend',\n        function endAnimation() {\n            // Remove the animation class.\n            elem.classList.remove( animation );\n\n            // If the element should be hidden, hide it.\n            if ( hide ) {\n                elem.classList.remove( hide );\n            }\n\n            // Remove this event listener.\n            elem.removeEventListener( 'animationend', endAnimation, false );\n        },\n        false\n    );\n}\n\n/**\n * Update ARIA.\n *\n * @param {Object} el Element.\n * @param {string} aria ARIA to change.\n */\nfunction updateAria( el, aria ) {\n    if ( 'undefined' === typeof el || 0 >= aria.length ) {\n        return;\n    }\n\n    const hiddenEl =\n        'true' === el.getAttribute( `aria-${ aria }` ) ? 'false' : 'true';\n    el.setAttribute( `aria-${ aria }`, hiddenEl );\n}\n\n/* Import internal depedencies. */\n\nconst TAB_KEY = 9;\nconst ESCAPE_KEY = 27;\n\n/**\n * Define the constructor to instantiate a navigation.\n *\n * @class\n * @param {Object} element Navigation element.\n * @param {Object} toggle  Navigation toggle element.\n * @param {Object} options The settings and options for this instance.\n */\nfunction Navigation(element, toggle, options = {}) {\n    // Default settings.\n    const defaults = {\n        action: 'click',\n        subNavAnchors: '.js-site-nav-items > .menu-item-has-children > a',\n        subSubNavAnchors:\n            '.js-site-nav-items .sub-menu > .menu-item-has-children > a',\n        toggleNavClass: true,\n        toggleNavClassValue: 'is-opened',\n        toggleSubNavClassValue: 'is-opened',\n        closeNavOnEscKey: true,\n        closeNavOnLastTab: false,\n        subNavClass: '.sub-menu',\n        subToggleButtonClasses: '',\n        subSubToggleButtonClasses: '',\n        animateSubNav: false,\n        animateSubNavClass: '',\n        visuallyHiddenClass: 'screen-reader-text',\n        expandChildNavText: 'Sub menu',\n        dropDownIcon:\n            '<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" focusable=\"false\"><path d=\"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z\"></path></svg>',\n        onCreate: null,\n        onOpenNav: null,\n        onCloseNav: null,\n        onOpenSubNav: null,\n        onCloseSubNav: null,\n    };\n\n    // Bind methods.\n    this._handleNav = this.handleNav.bind(this);\n    this._handleSubNav = this.handleSubNav.bind(this);\n    this._handleCloseNav = this.handleCloseNav.bind(this);\n    this._handleCloseSubNav = this.handleCloseSubNav.bind(this);\n    this._closeAllSubMenus = this.closeAllSubMenus.bind(this);\n    this._closeAllSubSubMenus = this.closeAllSubSubMenus.bind(this);\n    this._setSubMenu = this.setSubMenu.bind(this);\n    this._closeAllSubMenuToggles = this.closeAllSubMenuToggles.bind(this);\n    this._closeAllSubSubMenuToggles = this.closeAllSubSubMenuToggles.bind(this);\n    this._handleDocClick = this.handleDocClick.bind(this);\n    this._handleFocus = this.handleFocus.bind(this);\n\n    // Merge options to defaults.\n    const settings = { ...defaults, ...options };\n\n    // Set elements and settings.\n    this.$element = element;\n    this.$toggle = toggle;\n    this.settings = settings;\n    this.navOpened = false;\n\n    // Set all sub and sub sub navigations.\n    this.$subNavs = this.$element.querySelectorAll(this.settings.subNavAnchors);\n    this.$subSubNavs = this.$element.querySelectorAll(\n        this.settings.subSubNavAnchors\n    );\n\n    // Initialise everything needed for the navigation.\n    this.create();\n}\n\n/**\n * Setup navigation.\n */\nNavigation.prototype.create = function () {\n    // Set ARIA for navigation toggle button.\n    this.$toggle.setAttribute('aria-expanded', 'false');\n\n    // Set data value for nav element. This is for targeting without a class name.\n    this.$element.setAttribute('data-meom-nav', 'navigation');\n\n    // Setup sub navs toggle buttons.\n    this.$subNavs.forEach(function (subNav) {\n        // Hide link in JS to avoid cumulative layout shift (CLS).\n        if (this.settings.action === 'click') {\n            subNav.setAttribute('hidden', '');\n        }\n\n        const subToggleButton = document.createElement('button');\n        subToggleButton.setAttribute('data-meom-nav', 'sub-toggle');\n        subToggleButton.setAttribute('aria-expanded', 'false');\n\n        subToggleButton.className = `${this.settings.subToggleButtonClasses}`;\n        subToggleButton.type = 'button';\n\n        if (this.settings.action === 'click') {\n            subToggleButton.innerHTML = `${subNav.textContent}${this.settings.dropDownIcon}`;\n        }\n\n        if (this.settings.action === 'hover') {\n            subToggleButton.innerHTML = `<span class=\"${this.settings.visuallyHiddenClass}\">${this.settings.expandChildNavText}</span>${this.settings.dropDownIcon}`;\n        }\n\n        // Add toggle button after anchor.\n        subNav.after(subToggleButton);\n    }, this);\n\n    // Setup sub sub navs toggle buttons.\n    this.$subSubNavs.forEach(function (subSubNav, index) {\n        const subToggleButton = document.createElement('button');\n        subToggleButton.setAttribute('data-meom-nav', 'sub-sub-toggle');\n        subToggleButton.setAttribute('aria-expanded', 'false');\n\n        subToggleButton.setAttribute('aria-controls', `sub-sub-menu-${index}`);\n        // Add matching id for next sub-sub-menu.\n        if (subSubNav.nextElementSibling) {\n            subSubNav.nextElementSibling.id = `sub-sub-menu-${index}`;\n        }\n\n        subToggleButton.className = `${this.settings.subSubToggleButtonClasses}`;\n        subToggleButton.type = 'button';\n\n        subToggleButton.innerHTML = `<span class=\"${this.settings.visuallyHiddenClass}\">${this.settings.expandChildNavText}</span>${this.settings.dropDownIcon}`;\n\n        // Add toggle button after anchor.\n        subSubNav.after(subToggleButton);\n    }, this);\n\n    // Set event listeners.\n    this.$toggle.addEventListener('click', this._handleNav, false);\n    this.$element.addEventListener('click', this._handleSubNav, false);\n    document.addEventListener('keydown', this._handleCloseNav, false);\n    this.$element.addEventListener('keydown', this._handleCloseSubNav, false);\n    this.$element.addEventListener('keydown', this._handleFocus, false);\n    document.addEventListener('click', this._handleDocClick, false);\n\n    /**\n     * Called after the component is initialized.\n     *\n     * @callback onCreate\n     */\n    if (\n        this.settings.onCreate &&\n        typeof this.settings.onCreate === 'function'\n    ) {\n        this.settings.onCreate(this.$element, this.$toggle);\n    }\n\n    return this;\n};\n\n/**\n * Handle navigation opening and closing.\n *\n * @param {Event} event\n * @return {this} this\n */\nNavigation.prototype.handleNav = function (event) {\n    // If navigation is closed and we want to open it.\n    if (!this.navOpened) {\n        updateAria(this.$toggle, 'expanded');\n\n        if (this.settings.toggleNavClass) {\n            this.$element.classList.add(this.settings.toggleNavClassValue);\n        }\n\n        // Set navigation as opened.\n        this.navOpened = true;\n\n        /**\n         * Called after the nav is opened.\n         *\n         * @callback onOpenNav\n         */\n        if (\n            this.settings.onOpenNav &&\n            typeof this.settings.onOpenNav === 'function'\n        ) {\n            this.settings.onOpenNav(this.$element, this.$toggle, event);\n        }\n    } else {\n        updateAria(this.$toggle, 'expanded');\n\n        if (this.settings.toggleNavClass) {\n            this.$element.classList.remove(this.settings.toggleNavClassValue);\n        }\n\n        // Set focus back to toggle button.\n        if (this.$toggle) {\n            this.$toggle.focus();\n        }\n\n        // Set navigation as closed.\n        this.navOpened = false;\n\n        this._closeAllSubMenus();\n        this._closeAllSubMenuToggles();\n\n        /**\n         * Called after the nav is closed.\n         *\n         * @callback onCloseNav\n         */\n        if (\n            this.settings.onCloseNav &&\n            typeof this.settings.onCloseNav === 'function'\n        ) {\n            this.settings.onCloseNav(this.$element, this.$toggle, event);\n        }\n    }\n\n    return this;\n};\n\n/**\n * Handle sub navigation opening and closing.\n *\n * @param {Event} event\n * @return {this} this\n */\nNavigation.prototype.handleSubNav = function (event) {\n    const target = event.target;\n    // Use .closest because there can be SVG inside the button.\n    const closestSubButton = target.closest('[data-meom-nav=\"sub-toggle\"]');\n    const closestSubSubButton = target.closest(\n        '[data-meom-nav=\"sub-sub-toggle\"]'\n    );\n\n    // If the clicked element doesn't have the correct data attribute, bail.\n    if (!closestSubButton && !closestSubSubButton) {\n        return this;\n    }\n\n    // Close other sub menus first.\n    // If toggle <button> next element (sub-menu) is already open, skip this.\n    // Or we are clicking sub sub toggle.\n    if (\n        !target.nextElementSibling.classList.contains(\n            this.settings.toggleSubNavClassValue\n        ) &&\n        !target.matches('[data-meom-nav=\"sub-sub-toggle\"]')\n    ) {\n        this._closeAllSubMenus();\n        this._closeAllSubMenuToggles();\n    }\n\n    // Then again, close all sub sub menus when trying to open any other sub sub menu that is not already open.\n    // So that only one sub sub menu can be open at current time.\n    if (\n        !target.nextElementSibling.classList.contains(\n            this.settings.toggleSubNavClassValue\n        ) &&\n        target.matches('[data-meom-nav=\"sub-sub-toggle\"]')\n    ) {\n        this._closeAllSubSubMenus(target);\n        this._closeAllSubSubMenuToggles(target);\n    }\n\n    // Update sub toggle ARIA.\n    updateAria(target, 'expanded');\n\n    // Toggle class for next <ul> element (sub-menu).\n    if (target.nextElementSibling) {\n        this._setSubMenu(target.nextElementSibling, event);\n    }\n\n    return this;\n};\n\n/**\n * Handle closing nav with Esc key.\n *\n * @param {Object} event Event triggered.\n * @return {this} this\n */\nNavigation.prototype.handleCloseNav = function (event) {\n    // Close nav on Esc key if nav is open.\n    if (\n        this.navOpened &&\n        this.settings.closeNavOnEscKey &&\n        ESCAPE_KEY === event.keyCode\n    ) {\n        this._handleNav(event);\n    }\n\n    return this;\n};\n\n/**\n * Handle closing sub-nav with Tab or Esc key.\n *\n * @param {Object} event Event triggered.\n * @return {this} this\n */\nNavigation.prototype.handleCloseSubNav = function (event) {\n    // Set focusable elements inside sub-menu element.\n    const openSubMenu = document.querySelector(\n        `${this.settings.subNavClass}.${this.settings.toggleSubNavClassValue}`\n    );\n\n    if (openSubMenu) {\n        // Focusable elements.\n        const focusableElements = openSubMenu.querySelectorAll([\n            'a[href]',\n            'area[href]',\n            'input:not([disabled])',\n            'select:not([disabled])',\n            'textarea:not([disabled])',\n            'button:not([disabled])',\n        ]);\n\n        const lastFocusableElement =\n            focusableElements[focusableElements.length - 1];\n\n        // Last Tab closes sub-menu.\n        if (\n            TAB_KEY === event.keyCode &&\n            !event.shiftKey &&\n            event.target === lastFocusableElement\n        ) {\n            this._closeAllSubMenus();\n            this._closeAllSubMenuToggles();\n        }\n\n        const subMenuToggle = openSubMenu.previousElementSibling;\n\n        // Shift+Tab from sub-menu toggle closes sub-menu.\n        if (\n            subMenuToggle &&\n            TAB_KEY === event.keyCode &&\n            event.shiftKey &&\n            event.target === subMenuToggle\n        ) {\n            this._closeAllSubMenus();\n            this._closeAllSubMenuToggles();\n        }\n    }\n\n    // Close sub-menu on Esc key.\n    if (ESCAPE_KEY === event.keyCode) {\n        // If we are on the sub-menu toggle itself.\n        if (\n            event.target.matches(\n                '[data-meom-nav=\"sub-toggle\"][aria-expanded=\"true\"]'\n            )\n        ) {\n            this._handleSubNav(event);\n            this._closeAllSubMenus();\n            this._closeAllSubMenuToggles();\n            return this;\n        }\n\n        // Previous sub-menu toggle.\n        const parentSubMenu = event.target.closest(\n            `${this.settings.subNavClass}.${this.settings.toggleSubNavClassValue}`\n        );\n\n        // Set focus to sub menu toggle.\n        if (parentSubMenu) {\n            // sub-menu toggle.\n            const subMenuToggle = parentSubMenu.previousElementSibling;\n\n            // Set focus back to sub-menu toggle.\n            if (subMenuToggle) {\n                subMenuToggle.focus();\n            }\n        }\n\n        this._closeAllSubMenus();\n        this._closeAllSubMenuToggles();\n    }\n\n    return this;\n};\n\n/**\n * Handle focus when nav is open.\n *\n * @param {Object} event Event triggered.\n * @return {this} this\n */\nNavigation.prototype.handleFocus = function (event) {\n    // Bail if menu is not open.\n    if (!this.navOpened) {\n        return this;\n    }\n\n    // Bail if `closeNavOnLastTab` setting is not set to true.\n    if (!this.settings.closeNavOnLastTab) {\n        return this;\n    }\n\n    // Set focusable elements inside element.\n    const focusableElements = this.$element.querySelectorAll([\n        'a[href]',\n        'area[href]',\n        'input:not([disabled])',\n        'select:not([disabled])',\n        'textarea:not([disabled])',\n        'button:not([disabled])',\n    ]);\n\n    const lastFocusableElement =\n        focusableElements[focusableElements.length - 1];\n\n    // Close nav on last Tab.\n    if (\n        TAB_KEY === event.keyCode &&\n        !event.shiftKey &&\n        event.target === lastFocusableElement\n    ) {\n        event.preventDefault();\n        // Close nav.\n        this._handleNav(event);\n    }\n\n    return this;\n};\n\n/**\n * Handle closing sub-navs when clicking outside of nav.\n *\n * @param {Object} event Event triggered.\n * @return {this} this\n */\nNavigation.prototype.handleDocClick = function (event) {\n    // Bail if clicking inside the nav.\n    if (event.target.closest('[data-meom-nav=\"navigation\"]')) {\n        return this;\n    }\n\n    this._closeAllSubMenus();\n    this._closeAllSubMenuToggles();\n\n    return this;\n};\n\n/**\n * Close all sub menus.\n *\n * @return {this} this\n */\nNavigation.prototype.closeAllSubMenus = function () {\n    const openSubMenus = document.querySelectorAll(\n        `${this.settings.subNavClass}.${this.settings.toggleSubNavClassValue}`\n    );\n\n    openSubMenus.forEach(function (openSubMenu) {\n        this._setSubMenu(openSubMenu);\n    }, this);\n\n    return this;\n};\n\n/**\n * Close only same level sub sub menus.\n *\n * @param {Object} target Target triggered.\n * @return {this} this\n */\nNavigation.prototype.closeAllSubSubMenus = function (target) {\n    const sameLevelParentSubMenu = target.closest(\n        `${this.settings.subNavClass}.${this.settings.toggleSubNavClassValue}`\n    );\n\n    // Get same level sub sub menus\n    const openSubSubMenus = sameLevelParentSubMenu.querySelectorAll(\n        `${this.settings.subNavClass}.${this.settings.toggleSubNavClassValue}`\n    );\n\n    openSubSubMenus.forEach(function (openSubSubMenu) {\n        this._setSubMenu(openSubSubMenu);\n    }, this);\n\n    return this;\n};\n\n/**\n * Set classes and animate for sub-menu.\n *\n * @param {Node}   submenu Sub menu node.\n * @param {Object} event   Event.\n * @return {this} this\n */\nNavigation.prototype.setSubMenu = function (submenu, event) {\n    if (!submenu) {\n        return this;\n    }\n\n    if (!submenu.classList.contains(this.settings.toggleSubNavClassValue)) {\n        submenu.classList.add(this.settings.toggleSubNavClassValue);\n\n        // Base animation with class.\n        if (this.settings.animateSubNav) {\n            animate(submenu, this.settings.animateSubNavClass);\n        }\n\n        /**\n         * Called after the sub nav is opened.\n         *\n         * @callback onOpenSubNav\n         */\n        if (\n            this.settings.onOpenSubNav &&\n            typeof this.settings.onOpenSubNav === 'function'\n        ) {\n            this.settings.onOpenSubNav(\n                this.$element,\n                this.$toggle,\n                submenu,\n                event\n            );\n        }\n    } else {\n        submenu.classList.remove(this.settings.toggleSubNavClassValue);\n\n        /**\n         * Called after the sub nav is closed.\n         *\n         * @callback onCloseSubNav\n         */\n        if (\n            this.settings.onCloseSubNav &&\n            typeof this.settings.onCloseSubNav === 'function'\n        ) {\n            this.settings.onCloseSubNav(\n                this.$element,\n                this.$toggle,\n                submenu,\n                event\n            );\n        }\n    }\n\n    return this;\n};\n\n/**\n * Close all sub menu toggles.\n *\n * @return {this} this\n */\nNavigation.prototype.closeAllSubMenuToggles = function () {\n    const openSubMenuToggles = document.querySelectorAll(\n        '[data-meom-nav=\"sub-toggle\"][aria-expanded=\"true\"]'\n    );\n\n    openSubMenuToggles.forEach(function (openSubMenuToggle) {\n        updateAria(openSubMenuToggle, 'expanded');\n    });\n\n    const openSubSubMenuToggles = document.querySelectorAll(\n        '[data-meom-nav=\"sub-sub-toggle\"][aria-expanded=\"true\"]'\n    );\n\n    openSubSubMenuToggles.forEach(function (openSubSubMenuToggle) {\n        updateAria(openSubSubMenuToggle, 'expanded');\n    });\n\n    return this;\n};\n\n/**\n * Close all same level sub sub menu toggles.\n *\n * @param {Object} target Target.\n * @return {this} this\n */\nNavigation.prototype.closeAllSubSubMenuToggles = function (target) {\n    const sameLevelParentSubMenu = target.closest(\n        `${this.settings.subNavClass}.${this.settings.toggleSubNavClassValue}`\n    );\n\n    const openSubSubMenuToggles = sameLevelParentSubMenu.querySelectorAll(\n        '[data-meom-nav=\"sub-sub-toggle\"][aria-expanded=\"true\"]'\n    );\n\n    openSubSubMenuToggles.forEach(function (openSubSubMenuToggle) {\n        updateAria(openSubSubMenuToggle, 'expanded');\n    });\n\n    return this;\n};\n\nexport { Navigation, animate, updateAria };\n","/*\n * Build a query string from an object of data\n * (c) 2021 Chris Ferdinandi, MIT License, https://gomakethings.com/how-to-build-a-query-string-from-an-object-of-data-with-vanilla-js/\n * @param  {Object} data The data to turn into a query string\n * @return {String}      The query string\n */\nfunction buildQueryString(data) {\n    return new URLSearchParams(data).toString();\n}\nexport default buildQueryString;\n","import getCheckedCheckboxes from './getCheckedCheckboxes';\n\n/**\n * Count all checked checkboxes for different filters.\n *\n * @param {Object} element Element.\n */\nfunction calcCount( element ) {\n    // Count wrapper.\n    const filtersCount = document.querySelector( '.js-filters-count' );\n\n    // Bails early.\n    if ( filtersCount ) {\n        // Get all checkboxes.\n        const checkboxesCount = getCheckedCheckboxes( element );\n\n        // Set count.\n        filtersCount.innerHTML = checkboxesCount.length;\n    }\n\n    // Calculate count for each fieldset. Do not use for now.\n    /*\n    const fieldsetToggles = document.querySelectorAll(\n        '[data-meom-filters=\"fieldset-toggle\"]'\n    );\n\n    for ( const fieldsetToggle of fieldsetToggles ) {\n        // Fieldset is the next sibling of the button.\n        const fieldsetWrapper = fieldsetToggle.nextElementSibling;\n        const checkboxesCount = getCheckedCheckboxes( fieldsetWrapper );\n\n        // Update count.\n        const fieldsetCount = fieldsetToggle.querySelector(\n            '.filters__fieldset-toggle-count'\n        );\n\n        if ( fieldsetCount ) {\n            fieldsetCount.innerHTML = `(${ checkboxesCount.length })`;\n        }\n    }\n    */\n}\n\nexport default calcCount;\n","/* global */\n/* eslint-disable @wordpress/no-unused-vars-before-return */\n\n/* Import external depedencies. */\nimport { speak } from '@wordpress/a11y';\nimport { addQueryArgs } from '@wordpress/url';\n\n/* Import internal depedencies. */\nimport loadMoreMarkup from './loadMoreMarkup';\n\n/**\n * Fetch data based on args.\n *\n * @param {Object}  args   Arguments for query.\n * @param {boolean} append Append markup or not.\n */\nfunction fetchPosts( args, append = false ) {\n    // Where to populate markup.\n    const filtersItems = document.querySelector(\n        '[data-meom-filters=\"items-content\"]'\n    );\n\n    // Bail if there is no filters nor markup wrapper.\n    if ( ! filtersItems ) {\n        return;\n    }\n\n    // Spinner.\n    const spinner = document.querySelector( '[data-meom-filters=\"spinner\"]' );\n\n    // Load more button.\n    const loadMore = document.querySelector(\n        '[data-meom-filters=\"load-more\"]'\n    );\n\n    if ( ! args ) {\n        return;\n    }\n\n    // Animations.\n    filtersItems.classList.add( 'is-loading' );\n\n    // Start showing spinner.\n    if ( spinner ) {\n        spinner.removeAttribute( 'hidden' );\n    }\n\n    // Fetch the data based on args.\n    fetch( addQueryArgs( '/wp-json/wp_query/args/', args ) )\n        .then( function ( response ) {\n            // The API call was succesful.\n            if ( response.ok ) {\n                // Add total amount of pages to the state.\n                const pages = parseInt(\n                    response.headers.get( 'x-wp-totalpages' ),\n                    10\n                );\n                args.pages = pages;\n\n                // Add total count of results to the state.\n                const count = parseInt(\n                    response.headers.get( 'x-wp-total' ),\n                    10\n                );\n                args.count = count;\n\n                // And to HTML.\n                const countWrapper = document.querySelector(\n                    '[data-meom-filters=\"submit-count\"]'\n                );\n                if ( countWrapper ) {\n                    countWrapper.innerHTML = `&nbsp;(${ count })`;\n                }\n\n                // Handle load more button visibility.\n                loadMoreMarkup( pages, loadMore, args );\n\n                return response.json();\n            }\n            return Promise.reject( response );\n        } )\n        .then( function ( data ) {\n            // `data.html` has markup already.\n            const markup = data.html\n                ? data.html\n                : `<p>${ data.messages.empty }</p>`;\n\n            // Append to existing markup if we are loading more content.\n            if ( append ) {\n                filtersItems.innerHTML += markup;\n            } else {\n                // Reset content first.\n                filtersItems.innerHTML = '';\n\n                filtersItems.innerHTML = markup;\n            }\n\n            // End animation and hide the spinner.\n            filtersItems.classList.remove( 'is-loading' );\n            if ( spinner ) {\n                spinner.setAttribute( 'hidden', '' );\n            }\n\n            // Announce screen readers and other AT base info on the fly.\n            const announceText = data.html\n                ? data.messages.success\n                : data.messages.empty;\n\n            speak( announceText );\n        } )\n        .catch( function ( err ) {\n            // There was an error.\n            console.warn('Something went wrong.', err); // eslint-disable-line\n\n            filtersItems.classList.remove( 'is-loading' );\n            if ( spinner ) {\n                spinner.setAttribute( 'hidden', '' );\n            }\n        } );\n}\n\nexport default fetchPosts;\n","/**\n * Get all checked checkboxes for different filters.\n *\n * @param {Object} element Elements to loop.\n */\nfunction getCheckedCheckboxes( element ) {\n    // Get all checkboxes.\n    const checkboxes = element.querySelectorAll( 'input[type=\"checkbox\"]' );\n\n    // Collect checked ones in array.\n    const allChecked = [];\n\n    // Collect checked ones and add value (taxonomy slug) to array.\n    checkboxes.forEach( ( checkbox ) => {\n        if ( checkbox.checked ) {\n            allChecked.push( checkbox.value );\n        }\n    } );\n\n    // Return checked ones.\n    return allChecked;\n}\n\nexport default getCheckedCheckboxes;\n","/* global history, location */\n\n/* Import internal depedencies. */\nimport buildQueryString from './buildQueryString';\nimport fetchPosts from './fetchPosts';\nimport showSelectedFilters from './showSelectedFilters';\nimport serializeForm from './serializeForm';\nimport calcCount from './calcCount';\n\n/**\n * Handle fetching data.\n *\n * @param {boolean} append      Append to markup or not.\n * @param {Object}  args        Arguments.\n * @param {Object}  urlObject   URL object, what to show in URL.\n * @param {string}  postType    Which post type.\n * @param {Object}  filtersForm Which form.\n * @param {Object}  config      JSON-config for filters.\n */\nfunction handleFetch(\n    append = false,\n    args,\n    urlObject,\n    postType,\n    filtersForm,\n    config\n) {\n    // Reset filter state at first.\n    args.tax_query = [];\n    args.meta_query = [];\n\n    // Reset urlObject first.\n    urlObject = {};\n\n    // Query for `customer` post type.\n    if ( postType === 'house' ) {\n        // Get data from form.\n        const formData = new FormData( filtersForm );\n        const dataValues = serializeForm( formData );\n\n        // Loop tax_query from config.\n        const taxQueries = config[ postType ].tax_query;\n\n        if ( taxQueries ) {\n            for ( const taxQuery of taxQueries ) {\n                if (\n                    dataValues[ taxQuery.name ] &&\n                    dataValues[ taxQuery.name ].length > 0\n                ) {\n                    args.tax_query.push( {\n                        taxonomy: taxQuery.taxonomy,\n                        field: 'slug',\n                        terms: dataValues[ taxQuery.name ],\n                    } );\n\n                    // Add URL query parameter.\n                    urlObject[ taxQuery.urlKey ] = dataValues[ taxQuery.name ];\n                }\n            }\n        }\n\n        // Handle order.\n        const orderName = config[ postType ].order.name;\n        if ( dataValues[ orderName ] ) {\n            // Latest first.\n            if ( dataValues[ orderName ] === 'newest-first' ) {\n                args.orderby = 'date';\n                args.order = 'DESC';\n            }\n\n            // Oldest first.\n            if ( dataValues[ orderName ] === 'oldest-first' ) {\n                args.orderby = 'date';\n                args.order = 'ASC';\n            }\n\n            // By title asc.\n            if ( dataValues[ orderName ] === 'title-asc' ) {\n                args.orderby = 'post_title';\n                args.order = 'ASC';\n            }\n\n            // By title desc.\n            if ( dataValues[ orderName ] === 'title-desc' ) {\n                args.orderby = 'post_title';\n                args.order = 'DESC';\n            }\n\n            // Default is the newest, we don't need any order for that.\n            if ( dataValues[ orderName ] !== 'newest-first' ) {\n                urlObject[ config.post.order.urlKey ] = dataValues[ orderName ];\n            }\n        }\n\n        // Reset search (args.s) before setting new one so that old value is not there.\n        args.s = '';\n\n        // Add search if there is value.\n        if ( dataValues[ config.search.name ] ) {\n            args.s = dataValues[ config.search.name ];\n\n            urlObject[ config.search.urlKey ] =\n                dataValues[ config.search.name ];\n        }\n    }\n\n    // Language code to show right string translations.\n    const languageCode = document.querySelector(\n        'input[name=\"language_code\"]'\n    );\n    if ( languageCode ) {\n        args.language_code = languageCode.value;\n    }\n\n    // Language slug to get items only from current language.\n    const lang = document.querySelector( 'input[name=\"lang\"]' );\n    if ( lang ) {\n        args.lang = lang.value;\n    }\n\n    // Add page number to fetch or reset to back to 1.\n    if ( append ) {\n        args.paged = 1 + args.paged;\n    } else {\n        args.paged = 1;\n    }\n\n    // Fetch posts based on args.\n    fetchPosts( args, append, filtersForm );\n\n    // Add buttons which match the selected filters.\n    // By clicking them it will remove that filter.\n    showSelectedFilters(\n        append,\n        args,\n        urlObject,\n        postType,\n        filtersForm,\n        config\n    );\n\n    // Update count.\n    calcCount( filtersForm );\n\n    // Build query string if we have urlObject. Else remove query string from the URL.\n    const updatedUrl =\n        Object.entries( urlObject ).length > 0\n            ? '?' + buildQueryString( urlObject )\n            : `${ location.protocol }//${ location.host }${ location.pathname }`;\n\n    // Add state to the history and update URL.\n    history.replaceState( args, document.title, updatedUrl );\n}\n\nexport default handleFetch;\n","/**\n * When to hide or show the load more button.\n *\n * @param {number} pages    Total count of pages.\n * @param {Object} loadMore Loadmore element.\n * @param {Object} args     Arguments.\n */\nfunction loadMoreMarkup(pages, loadMore, args) {\n    if (!loadMore) {\n        return;\n    }\n\n    if (args.paged >= pages) {\n        loadMore.setAttribute('hidden', '');\n    } else {\n        loadMore.removeAttribute('hidden');\n    }\n}\nexport default loadMoreMarkup;\n","/**\n * Markup for the button holding the selected filter.\n *\n * @param {string} key   Name for the key.\n * @param {string} value Name for the value\n */\nfunction selectedFilterButton( key, value ) {\n\t// Value is weird for number value 0.\n\tif ( ! key || ( ! value && value !== 0 ) ) {\n\t\treturn;\n\t}\n\n\tconst selectedFilter = document.querySelector(\n\t\t`input[data-meom-filters=\"${ key }\"][value=\"${ value }\"]`\n\t);\n\n\tif ( ! selectedFilter ) {\n\t\treturn;\n\t}\n\n\tconst label = selectedFilter.getAttribute( 'data-meom-filters-label' );\n\n\tif ( ! label ) {\n\t\treturn;\n\t}\n\n\tconst button = document.createElement( 'button' );\n\tbutton.type = 'button';\n\tbutton.setAttribute( 'data-meom-filters', 'remove-filter' );\n\tbutton.setAttribute( 'data-meom-filters-key', key );\n\tbutton.setAttribute( 'data-meom-filters-value', value );\n\tbutton.className = 'filters__remove-filter';\n\tbutton.innerHTML =\n\t\t'<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z\" /></svg>' +\n\t\tlabel;\n\n\treturn button;\n}\nexport default selectedFilterButton;\n","/**\n * When to hide or show the load more button.\n *\n * https://gomakethings.com/serializing-form-data-with-the-vanilla-js-formdata-object/\n * https://stackoverflow.com/questions/41431322/how-to-convert-formdata-html5-object-to-json?rq=1\n *\n * @param {Object} formData Form data.\n */\nfunction serializeForm(formData) {\n    const dataValues = {};\n    formData.forEach((value, key) => {\n        // Reflect.has in favor of dataValues.hasOwnProperty(key).\n        if (!Reflect.has(dataValues, key)) {\n            dataValues[key] = value;\n            return;\n        }\n\n        // Checkboxes etc. where you can get multiple values, set them as array.\n        if (!Array.isArray(dataValues[key])) {\n            dataValues[key] = [dataValues[key]];\n        }\n\n        // And push to array.\n        dataValues[key].push(value);\n    });\n\n    return dataValues;\n}\nexport default serializeForm;\n","import selectedFilterButton from './selectedFilterButton';\nimport handleFetch from './handleFetch';\n\n/**\n * Show selected filters.\n *\n * @param {boolean} append      Append to markup or not.\n * @param {Object}  args        Arguments.\n * @param {Object}  urlObject   URL object, what to show in URL.\n * @param {string}  postType    Which post type.\n * @param {Object}  filtersForm Which form.\n * @param {Object}  config      JSON-config for filters.\n */\nfunction showSelectedFilters(\n    append = false,\n    args,\n    urlObject,\n    postType,\n    filtersForm,\n    config\n) {\n    // Where to populate the selected items.\n    const filtersSelected = document.querySelector(\n        '[data-meom-filters=\"selected\"]'\n    );\n\n    // Bail if there is no filters nor markup wrapper.\n    if ( ! filtersSelected ) {\n        return;\n    }\n\n    filtersSelected.innerHTML = '';\n\n    // Taxonomies.\n    if ( args.tax_query.length > 0 ) {\n        const taxArgs = args.tax_query;\n\n        for ( const taxKey of taxArgs ) {\n            // If we have array of terms, let's loop them over.\n            // And create a button to remote the same filter.\n            if ( Array.isArray( taxKey.terms ) ) {\n                for ( const taxValue of taxKey.terms ) {\n                    const buttonMarkup = selectedFilterButton(\n                        taxKey.taxonomy,\n                        taxValue\n                    );\n\n                    if ( buttonMarkup ) {\n                        filtersSelected.appendChild( buttonMarkup );\n                    }\n                }\n            } else {\n                const buttonMarkup = selectedFilterButton(\n                    taxKey.taxonomy,\n                    taxKey.terms\n                );\n\n                if ( buttonMarkup ) {\n                    filtersSelected.appendChild( buttonMarkup );\n                }\n            }\n        }\n\n        // Create clear selected filters button.\n        const resetButton = document.createElement( 'button' );\n        resetButton.type = 'button';\n        resetButton.setAttribute( 'data-meom-filters', 'reset' );\n        resetButton.className = 'filters__reset';\n        resetButton.innerHTML = 'Poista kaikki valinnat';\n        filtersSelected.appendChild( resetButton );\n    }\n\n    /**\n     * Handle selected filter button click.\n     *\n     * @param {Object} event\n     */\n    function handleSelectedFilters( event ) {\n        const target = event.target;\n        // Use .closest because there can be SVG inside the button.\n        const removeFilterButton = target.closest(\n            '[data-meom-filters=\"remove-filter\"]'\n        );\n\n        // If the clicked element doesn't have the correct data attribute, bail.\n        if ( ! removeFilterButton ) {\n            return;\n        }\n\n        const key = removeFilterButton.getAttribute( 'data-meom-filters-key' );\n        const value = removeFilterButton.getAttribute(\n            'data-meom-filters-value'\n        );\n\n        const selectedFilter = document.querySelector(\n            'input[data-meom-filters=\"' + key + '\"][value=\"' + value + '\"]'\n        );\n\n        if ( selectedFilter ) {\n            selectedFilter.checked = false;\n\n            // Do the fetch.\n            handleFetch(\n                append,\n                args,\n                urlObject,\n                postType,\n                filtersForm,\n                config\n            );\n        }\n    }\n\n    // Listen remove filter chips click.\n    document.addEventListener( 'click', handleSelectedFilters, false );\n}\n\nexport default showSelectedFilters;\n","module.exports = window[\"wp\"][\"a11y\"];","module.exports = window[\"wp\"][\"url\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* Import external depedencies. */\nimport { getQueryArgs } from '@wordpress/url';\nimport { updateAria } from '@meom/navigation'; // eslint-disable-line\n\n/* Import internal depedencies. */\nimport handleFetch from './helpers/handleFetch';\nimport config from './../../../../meom-filters/filters-config.json';\n\n/**\n * Filters.\n */\nconst filters = () => {\n    // Filters form.\n    const filtersForm = document.querySelector( '[data-meom-filters=\"form\"]' );\n\n    // Bail if there is no filters nor markup wrapper.\n    if ( ! filtersForm ) {\n        return;\n    }\n\n    // Filters wrapper\n    const filtersWrapper = document.querySelector(\n        '[data-meom-filters=\"filters-wrapper\"]'\n    );\n\n    // Load more button.\n    const loadMore = document.querySelector(\n        '[data-meom-filters=\"load-more\"]'\n    );\n\n    // Filters toggle button.\n    const filtersToggle = document.querySelector(\n        '[data-meom-filters=\"filters-toggle\"]'\n    );\n\n    // Filters close button.\n    const filtersClose = document.querySelector(\n        '[data-meom-filters=\"close\"]'\n    );\n\n    // Overlay.\n    const filtersOverlay = document.querySelector(\n        '[data-meom-filters=\"overlay\"]'\n    );\n\n    // Filters submit button.\n    const filtersSubmit = document.querySelector(\n        '[data-meom-filters=\"submit\"]'\n    );\n\n    // Filters reset button.\n    const filtersReset = document.querySelector(\n        '[data-meom-filters=\"reset\"]'\n    );\n\n    // Post type from data attribute `data-meom-filters-post-type`.\n    const postType = filtersForm.getAttribute( 'data-meom-filters-post-type' )\n        ? filtersForm.getAttribute( 'data-meom-filters-post-type' )\n        : 'customer';\n\n    // Default filter arguments.\n    const args = {\n        post_type: postType,\n        posts_per_page: 12,\n        paged: 1,\n    };\n\n    // Let's pick what we put in to the URL.\n    const urlObject = {};\n\n    /**\n     * Handle changes on form.\n     *\n     * @param {Object} event Event object.\n     */\n    function handleChange( event ) {\n        event.preventDefault();\n        handleFetch( false, args, urlObject, postType, filtersForm, config );\n    }\n\n    /**\n     * Handle load more button click.\n     *\n     */\n    function handleLoadMore() {\n        // Do the fetch and append to existing posts.\n        handleFetch( true, args, urlObject, postType, filtersForm, config );\n    }\n\n    /**\n     * Handle filter toggle button click.\n     *\n     */\n    function handleFilterToggle() {\n        filtersWrapper.classList.toggle( 'is-opened' );\n        updateAria( filtersToggle, 'expanded' );\n\n        document\n            .querySelector( 'html' )\n            .classList.toggle( 'filters-scroll-stop' );\n    }\n\n    /**\n     * Handle filter reset button click.\n     *\n     * @param {Object} event Event object.\n     */\n    function handleFilterReset( event ) {\n        // Bail if not clicking reset button (several same buttons).\n        if ( ! event.target.closest( '[data-meom-filters=\"reset\"]' ) ) {\n            return;\n        }\n\n        filtersForm.reset();\n\n        // And then handle fetch.\n        handleFetch( false, args, urlObject, postType, filtersForm, config );\n    }\n\n    /**\n     * Handle filter reset button click.\n     *\n     * @param {Object} event Event object.\n     */\n    function handleFilterFieldsetToggle( event ) {\n        // Bail if not clicking fieldset toggle button (several same buttons).\n        if (\n            ! event.target.closest( '[data-meom-filters=\"fieldset-toggle\"]' )\n        ) {\n            return;\n        }\n\n        updateAria( event.target, 'expanded' );\n    }\n\n    /**\n     * Close filters when clicking outside.\n     *\n     * @param {Object} event\n     */\n    function handleDocClick( event ) {\n        // Bail if clicking inside the filters.\n        if ( event.target.closest( '[data-meom-filters=\"filters-wrapper\"]' ) ) {\n            return;\n        }\n\n        // Or clicking inside the form.\n        if ( event.target.closest( '[data-meom-filters=\"form\"]' ) ) {\n            return;\n        }\n\n        // Close filters if they are open.\n        if (\n            filtersWrapper &&\n            filtersWrapper.classList.contains( 'is-opened' )\n        ) {\n            handleFilterToggle();\n        }\n    }\n\n    /**\n     * Init filters and load filters from URL query vars.\n     */\n    function initFilters() {\n        // Clear all fields.\n        filtersForm.reset();\n\n        // Get state from the URL.\n        const getStateFromUrl = getQueryArgs( document.location.href );\n\n        // Check all checkboxes which match the URL query vars.\n        // This way we can send the link to someone else or refresh the page.\n        if ( Object.entries( getStateFromUrl ).length > 0 ) {\n            // Loop tax_query from config.\n            const taxQueries = config[ postType ].tax_query;\n            if ( taxQueries ) {\n                for ( const taxQuery of taxQueries ) {\n                    const statesFromUrl = getStateFromUrl[ taxQuery.urlKey ];\n                    if ( statesFromUrl && statesFromUrl.length > 0 ) {\n                        // Get all checkboxes based on name.\n                        const allTaxCheckboxes = filtersForm.querySelectorAll(\n                            `[name=\"${ taxQuery.name }\"]`\n                        );\n\n                        // Loop them over and check them if URL query parameter array includes the value.\n                        const statesFromUrlValues = statesFromUrl.split( ',' );\n                        allTaxCheckboxes.forEach( ( checkbox ) => {\n                            if (\n                                statesFromUrlValues.includes( checkbox.value )\n                            ) {\n                                checkbox.checked = true;\n                            }\n                        } );\n                    }\n                }\n            }\n\n            // Select correct order.\n            if ( getStateFromUrl[ config[ postType ].order.urlKey ] ) {\n                const selectOrder = document.querySelector(\n                    `[name=\"${\n                        config[ postType ].order.name\n                    }\"] option[value=\"${\n                        getStateFromUrl[ config[ postType ].order.urlKey ]\n                    }\"]`\n                );\n\n                if ( selectOrder ) {\n                    selectOrder.selected = true;\n                }\n            }\n\n            // Output search value.\n            if ( getStateFromUrl[ config.search.urlKey ] ) {\n                const search = document.querySelector(\n                    `[name=\"${ config.search.name }\"]`\n                );\n\n                if ( search ) {\n                    search.value = getStateFromUrl[ config.search.urlKey ];\n                }\n            }\n        }\n\n        // Do the fetch.\n        handleFetch( false, args, urlObject, postType, filtersForm, config );\n    }\n\n    // Listen change and submit events on filters form.\n    filtersForm.addEventListener( 'change', handleChange, false );\n    filtersForm.addEventListener( 'submit', handleChange, false );\n\n    // Listen load more clicks.\n    if ( loadMore ) {\n        loadMore.addEventListener( 'click', handleLoadMore, false );\n    }\n\n    // Listen filter toggle clicks.\n    if ( filtersToggle ) {\n        filtersToggle.addEventListener( 'click', handleFilterToggle, false );\n    }\n\n    // Listen filter close clicks.\n    if ( filtersClose ) {\n        filtersClose.addEventListener( 'click', handleFilterToggle, false );\n    }\n\n    // Listen filter overlay clicks.\n    if ( filtersOverlay ) {\n        filtersOverlay.addEventListener( 'click', handleFilterToggle, false );\n    }\n\n    // Listen filter submit clicks.\n    if ( filtersSubmit ) {\n        filtersSubmit.addEventListener( 'click', handleFilterToggle, false );\n    }\n\n    // Listen filter reset clicks.\n    if ( filtersReset ) {\n        document.addEventListener( 'click', handleFilterReset, false );\n    }\n\n    // Listen filter fieldset clicks.\n    filtersForm.addEventListener( 'click', handleFilterFieldsetToggle, false );\n\n    // Handle clicking outside of filters.\n    document.addEventListener( 'click', handleDocClick, false );\n\n    // Listen history changes (browser back and forward button).\n    // popstate have event.state which we could use but let's use the URL as source of truth.\n    window.addEventListener( 'popstate', initFilters );\n\n    // Init filters.\n    initFilters();\n};\n\nfilters();\n"],"names":["buildQueryString","data","URLSearchParams","toString","getCheckedCheckboxes","calcCount","element","filtersCount","document","querySelector","checkboxesCount","innerHTML","length","speak","addQueryArgs","loadMoreMarkup","fetchPosts","args","append","filtersItems","spinner","loadMore","classList","add","removeAttribute","fetch","then","response","ok","pages","parseInt","headers","get","count","countWrapper","json","Promise","reject","markup","html","messages","empty","remove","setAttribute","announceText","success","catch","err","console","warn","checkboxes","querySelectorAll","allChecked","forEach","checkbox","checked","push","value","showSelectedFilters","serializeForm","handleFetch","urlObject","postType","filtersForm","config","tax_query","meta_query","formData","FormData","dataValues","taxQueries","taxQuery","name","taxonomy","field","terms","urlKey","orderName","order","orderby","post","s","search","languageCode","language_code","lang","paged","updatedUrl","Object","entries","location","protocol","host","pathname","history","replaceState","title","selectedFilterButton","key","selectedFilter","label","getAttribute","button","createElement","type","className","Reflect","has","Array","isArray","filtersSelected","taxArgs","taxKey","taxValue","buttonMarkup","appendChild","resetButton","handleSelectedFilters","event","target","removeFilterButton","closest","addEventListener","getQueryArgs","updateAria","filters","filtersWrapper","filtersToggle","filtersClose","filtersOverlay","filtersSubmit","filtersReset","post_type","posts_per_page","handleChange","preventDefault","handleLoadMore","handleFilterToggle","toggle","handleFilterReset","reset","handleFilterFieldsetToggle","handleDocClick","contains","initFilters","getStateFromUrl","href","statesFromUrl","allTaxCheckboxes","statesFromUrlValues","split","includes","selectOrder","selected","window"],"sourceRoot":""}